{"ast":null,"code":"var _jsxFileName = \"/home/andres/Escritorio/cat-api/src/components/FilterCats.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_FETCHING = \"fetching\";\nconst STATUS_FETCHED = \"fetched\";\nconst API_KEY = 'c50f46cf-8ed0-402c-a5be-d41c7f559deb'; // let randomNum = Math.abs(Math.floor(Math.random() * 15))\n\nclass FilterCats extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      loadingState: STATUS_FETCHING,\n      page: 0,\n      limit: 10\n    };\n\n    this.loadMore = () => {\n      this.setState(s => ({\n        page: s.page + 1\n      }), () => {\n        fetch(`https://api.thecatapi.com/v1/images/search`, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-api-key\": API_KEY\n          }\n        }).then(data => data.json()).then(data => {\n          this.setState({\n            images: [...this.state.images, ...data.map(e => ({\n              id: e.id,\n              url: e.url\n            }))]\n          });\n        });\n      });\n    };\n\n    this.getRandomCat = () => {\n      this.setState({\n        loadingState: STATUS_FETCHING\n      });\n      Promise.all([fetch(`https://api.thecatapi.com/v1/images/search?limit=${this.state.limit}&page=${this.state.page}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-api-key\": \"4bebae0d-0ec4-4787-8e77-8602741525af\"\n        }\n      }), fetch(`https://api.thecatapi.com/v1/breeds/`)]).then(data => Promise.all(data.map(data => data.json()))).then(data => {\n        this.setState({\n          images: data.map(e => ({\n            id: e.id,\n            url: e.url\n          })),\n          loadingState: STATUS_FETCHED\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getRandomCat();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery\",\n      children: [this.state.loadingState !== STATUS_FETCHED && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        children: \"Cute cats incoming...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), this.state.loadingState !== STATUS_FETCHING && this.state.images.length > 0 && this.state.images.map(image => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"imagePlaceholder\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: image.url,\n          rel: \"noreferrer\",\n          target: \"_blank\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: image.url,\n            alt: \"Cat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), console.log(this.state.images.id), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: JSON.stringify(this.state.images)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 14\n        }, this)]\n      }, image.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default FilterCats;","map":{"version":3,"sources":["/home/andres/Escritorio/cat-api/src/components/FilterCats.js"],"names":["React","STATUS_FETCHING","STATUS_FETCHED","API_KEY","FilterCats","Component","state","images","loadingState","page","limit","loadMore","setState","s","fetch","headers","then","data","json","map","e","id","url","getRandomCat","Promise","all","componentDidMount","render","length","image","console","log","JSON","stringify"],"mappings":"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","sourcesContent":["import React from 'react'\n\n\nconst STATUS_FETCHING = \"fetching\"\nconst STATUS_FETCHED = \"fetched\"\nconst API_KEY = 'c50f46cf-8ed0-402c-a5be-d41c7f559deb'\n// let randomNum = Math.abs(Math.floor(Math.random() * 15))\n\nclass FilterCats extends React.Component {\n    state = {\n        images: [],\n        loadingState: STATUS_FETCHING,\n        page: 0,\n        limit: 10\n    };\n    \n    componentDidMount() {\n        this.getRandomCat()\n    }\n    \n    loadMore = () => {\n    this.setState(\n        s => ({\n            page: s.page + 1\n        }),\n        () => {\n            fetch(\n                `https://api.thecatapi.com/v1/images/search`,\n                {\n                    headers: {\n              \"Content-Type\": \"application/json\",\n              \"x-api-key\": API_KEY\n            }\n        }\n        )\n        .then(data => data.json())\n        .then(data => {\n            this.setState({\n                images: [\n                    ...this.state.images,\n                    ...data.map(e => ({ id: e.id, url: e.url }))\n              ]\n            });\n        });\n    }\n    );\n};\n\n  getRandomCat = () => {\n    this.setState({\n      loadingState: STATUS_FETCHING\n    });\n    Promise.all([fetch(\n      `https://api.thecatapi.com/v1/images/search?limit=${\n        this.state.limit\n      }&page=${this.state.page}`,\n      {\n        headers: {\n            \"Content-Type\": \"application/json\",\n          \"x-api-key\": \"4bebae0d-0ec4-4787-8e77-8602741525af\"\n        }\n      }\n      ),\n      fetch(`https://api.thecatapi.com/v1/breeds/`)\n\n  ])\n      .then(data => Promise.all(data.map(data=> data.json())))\n      .then(data => {\n        this.setState({\n          images: data.map(e => ({ id: e.id, url: e.url })),\n          loadingState: STATUS_FETCHED\n        })\n      })\n  }\n\n  render() {\n    return (\n        <div className=\"gallery\">\n        {this.state.loadingState !== STATUS_FETCHED && (\n          <div className=\"loader\">Cute cats incoming...</div>\n          )}\n        {this.state.loadingState !== STATUS_FETCHING &&\n          this.state.images.length > 0 &&\n          this.state.images.map(image => (\n            <div className=\"imagePlaceholder\" key={image.id}>\n                <a href={image.url} rel=\"noreferrer\" target=\"_blank\">\n              <img src={image.url} alt=\"Cat\"  />\n\n                </a>\n               \n             { console.log(this.state.images.id)}\n             <p>{JSON.stringify(this.state.images)}</p>\n            </div>\n          ))}\n        {/* {this.state.loadingState === STATUS_FETCHED && (\n          <button onClick={this.loadMore}>Show more</button>\n          )} */}\n      </div>\n    )\n  }\n\n}\n\nexport default FilterCats"]},"metadata":{},"sourceType":"module"}