{"ast":null,"code":"var _jsxFileName = \"/home/andres/Escritorio/cat-api/src/components/GetCats.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_FETCHING = \"fetching\";\nconst STATUS_FETCHED = \"fetched\"; // const STATUS_LOADED = \"loaded\";\n\nconst API_KEY = 'c50f46cf-8ed0-402c-a5be-d41c7f559deb';\n\nclass GetCats extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      loadingState: STATUS_FETCHING,\n      page: 0,\n      limit: 10\n    };\n\n    this.loadMore = () => {\n      this.setState(s => ({\n        page: s.page + 1\n      }), () => {\n        fetch(`https://api.thecatapi.com/v1/images/search?limit=${this.state.limit}&page=${this.state.page}`, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-api-key\": API_KEY\n          }\n        }).then(data => data.json()).then(data => {\n          this.setState({\n            images: [...this.state.images, ...data.map(e => ({\n              id: e.id,\n              url: e.url\n            }))]\n          });\n        });\n      });\n    };\n\n    this.getRandomCat = () => {\n      this.setState({\n        loadingState: STATUS_FETCHING\n      });\n      fetch(`https://api.thecatapi.com/v1/images/search?limit=${this.state.limit}&page=${this.state.page}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-api-key\": \"4bebae0d-0ec4-4787-8e77-8602741525af\"\n        }\n      }).then(data => data.json()).then(data => {\n        this.setState({\n          images: data.map(e => ({\n            id: e.id,\n            url: e.url\n          })),\n          loadingState: STATUS_FETCHED\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getRandomCat();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery\",\n      children: [this.state.loadingState !== STATUS_FETCHED && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        children: \"Cute cats incoming...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), this.state.loadingState !== STATUS_FETCHING && this.state.images.length > 0 && this.state.images.map(image => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"imagePlaceholder\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image.url,\n          alt: \"Cat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this)\n      }, image.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this)), this.state.loadingState === STATUS_FETCHED && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.loadMore,\n        children: \"Show morer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default GetCats;","map":{"version":3,"sources":["/home/andres/Escritorio/cat-api/src/components/GetCats.js"],"names":["React","STATUS_FETCHING","STATUS_FETCHED","API_KEY","GetCats","Component","state","images","loadingState","page","limit","loadMore","setState","s","fetch","headers","then","data","json","map","e","id","url","getRandomCat","componentDidMount","render","length","image"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nconst STATUS_FETCHING = \"fetching\";\nconst STATUS_FETCHED = \"fetched\";\n// const STATUS_LOADED = \"loaded\";\nconst API_KEY = 'c50f46cf-8ed0-402c-a5be-d41c7f559deb'\n\n\nclass GetCats extends React.Component {\n    state = {\n        images: [],\n        loadingState: STATUS_FETCHING,\n        page: 0,\n        limit: 10\n    };\n    \n    componentDidMount() {\n        this.getRandomCat();\n    }\n    \n    loadMore = () => {\n    this.setState(\n        s => ({\n            page: s.page + 1\n        }),\n        () => {\n            fetch(\n                `https://api.thecatapi.com/v1/images/search?limit=${\n                    this.state.limit\n                }&page=${this.state.page}`,\n                {\n                    headers: {\n              \"Content-Type\": \"application/json\",\n              \"x-api-key\": API_KEY\n            }\n        }\n        )\n        .then(data => data.json())\n        .then(data => {\n            this.setState({\n                images: [\n                    ...this.state.images,\n                    ...data.map(e => ({ id: e.id, url: e.url }))\n              ]\n            });\n        });\n    }\n    );\n};\n\n  getRandomCat = () => {\n    this.setState({\n      loadingState: STATUS_FETCHING\n    });\n    fetch(\n      `https://api.thecatapi.com/v1/images/search?limit=${\n        this.state.limit\n      }&page=${this.state.page}`,\n      {\n        headers: {\n            \"Content-Type\": \"application/json\",\n          \"x-api-key\": \"4bebae0d-0ec4-4787-8e77-8602741525af\"\n        }\n      }\n    )\n      .then(data => data.json())\n      .then(data => {\n        this.setState({\n          images: data.map(e => ({ id: e.id, url: e.url })),\n          loadingState: STATUS_FETCHED\n        });\n      });\n  };\n\n  render() {\n    return (\n        <div className=\"gallery\">\n        {this.state.loadingState !== STATUS_FETCHED && (\n          <div className=\"loader\">Cute cats incoming...</div>\n          )}\n        {this.state.loadingState !== STATUS_FETCHING &&\n          this.state.images.length > 0 &&\n          this.state.images.map(image => (\n            <div className=\"imagePlaceholder\" key={image.id}>\n              <img src={image.url} alt=\"Cat\" />\n            </div>\n          ))}\n        {this.state.loadingState === STATUS_FETCHED && (\n          <button onClick={this.loadMore}>Show morer</button>\n          )}\n      </div>\n    );\n  }\n}\n\n    export default GetCats"]},"metadata":{},"sourceType":"module"}