{"ast":null,"code":"var _jsxFileName = \"/home/andres/Escritorio/cat-api/src/components/FilterCats.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_FETCHING = \"fetching\";\nconst STATUS_FETCHED = \"fetched\";\nconst API_KEY = 'c50f46cf-8ed0-402c-a5be-d41c7f559deb';\nlet randomNum = Math.abs(Math.floor(Math.random() * 15));\n\nclass FilterCats extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      loadingState: STATUS_FETCHING,\n      page: 0,\n      limit: 10,\n      category_id: 0\n    };\n\n    this.loadMore = () => {\n      this.setState(s => ({\n        page: s.page + 1\n      }), () => {\n        fetch(`https://api.thecatapi.com/v1/images/search?category_ids=${this.state.category_id}&page=${this.state.page}`, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-api-key\": API_KEY\n          }\n        }).then(data => data.json()).then(data => {\n          this.setState({\n            images: [...this.state.images, ...data.map(e => ({\n              id: e.id,\n              url: e.url\n            }))]\n          });\n        });\n      });\n    };\n\n    this.getRandomCat = () => {\n      this.setState({\n        loadingState: STATUS_FETCHING\n      });\n      fetch(`https://api.thecatapi.com/v1/images/search?limit=${this.state.limit}&page=${this.state.page}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-api-key\": \"4bebae0d-0ec4-4787-8e77-8602741525af\"\n        }\n      }).then(data => data.json()).then(data => {\n        this.setState({\n          images: data.map(e => ({\n            id: e.id,\n            url: e.url\n          })),\n          loadingState: STATUS_FETCHED\n        });\n      });\n    };\n\n    this.filterCats = e => {\n      this.setState({\n        category_ids: e.target.value\n      });\n      fetch(`https://api.thecatapi.com/v1/images/search?category_ids=${this.state.category_id}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-api-key\": \"4bebae0d-0ec4-4787-8e77-8602741525af\"\n        }\n      }).then().catch();\n    };\n  }\n\n  componentDidMount() {\n    this.getRandomCat();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gallery\",\n      children: [this.state.loadingState !== STATUS_FETCHED && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        children: \"Cute cats incoming...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), this.state.loadingState !== STATUS_FETCHING && this.state.images.length > 0 && this.state.images.map(image => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"imagePlaceholder\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: image.url,\n          rel: \"noreferrer\",\n          target: \"_blank\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: image.url,\n            alt: \"Cat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this), console.log(this.state.images)]\n      }, image.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this)), this.state.loadingState === STATUS_FETCHED && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.loadMore,\n        children: \"Show more\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default FilterCats;","map":{"version":3,"sources":["/home/andres/Escritorio/cat-api/src/components/FilterCats.js"],"names":["React","STATUS_FETCHING","STATUS_FETCHED","API_KEY","randomNum","Math","abs","floor","random","FilterCats","Component","state","images","loadingState","page","limit","category_id","loadMore","setState","s","fetch","headers","then","data","json","map","e","id","url","getRandomCat","filterCats","category_ids","target","value","catch","componentDidMount","render","length","image","console","log"],"mappings":"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","sourcesContent":["import React from 'react'\n\n\nconst STATUS_FETCHING = \"fetching\"\nconst STATUS_FETCHED = \"fetched\"\nconst API_KEY = 'c50f46cf-8ed0-402c-a5be-d41c7f559deb'\nlet randomNum = Math.abs(Math.floor(Math.random() * 15))\n\nclass FilterCats extends React.Component {\n    state = {\n        images: [],\n        loadingState: STATUS_FETCHING,\n        page: 0,\n        limit: 10,\n        category_id: 0\n    };\n    \n    componentDidMount() {\n        this.getRandomCat()\n    }\n    \n    loadMore = () => {\n    this.setState(\n        s => ({\n            page: s.page + 1\n        }),\n        () => {\n            \n            fetch(\n                `https://api.thecatapi.com/v1/images/search?category_ids=${\n                    this.state.category_id\n                }&page=${this.state.page}`,\n                {\n                    headers: {\n              \"Content-Type\": \"application/json\",\n              \"x-api-key\": API_KEY,\n\n            }\n        }\n        )\n        .then(data => data.json())\n        .then(data => {\n            this.setState({\n                images: [\n                    ...this.state.images,\n                    ...data.map(e => ({ id: e.id, url: e.url }))\n              ]\n            });\n        });\n    }\n    );\n};\n\n  getRandomCat = () => {\n    this.setState({\n      loadingState: STATUS_FETCHING\n    });\n    fetch(\n      `https://api.thecatapi.com/v1/images/search?limit=${\n        this.state.limit\n      }&page=${this.state.page}`,\n      {\n        headers: {\n            \"Content-Type\": \"application/json\",\n          \"x-api-key\": \"4bebae0d-0ec4-4787-8e77-8602741525af\"\n        }\n      }\n    )\n      .then(data => data.json())\n      .then(data => {\n        this.setState({\n          images: data.map(e => ({ id: e.id, url: e.url })),\n          loadingState: STATUS_FETCHED\n        })\n      })\n  }\n\n  \n  filterCats = (e) =>{\n      this.setState({\n          category_ids: e.target.value,\n        })\n        fetch(`https://api.thecatapi.com/v1/images/search?category_ids=${this.state.category_id}`,\n        {\n            headers: {\n                \"Content-Type\": \"application/json\",\n              \"x-api-key\": \"4bebae0d-0ec4-4787-8e77-8602741525af\"\n            }\n          })\n        .then()\n        .catch()\n   }\n  render() {\n    return (\n\n\n        <div className=\"gallery\">\n\n            {/* <label>\n            Looping through Json File\n            <select>\n              {this.state.images.map(item => (\n                <option >\n                  {item}\n                </option>\n              ))}\n            </select>\n          </label> */}\n\n        {this.state.loadingState !== STATUS_FETCHED && (\n          <div className=\"loader\">Cute cats incoming...</div>\n          )}\n        {this.state.loadingState !== STATUS_FETCHING &&\n          this.state.images.length > 0 &&\n          this.state.images.map(image => (\n            <div className=\"imagePlaceholder\" key={image.id}>\n                <a href={image.url} rel=\"noreferrer\" target=\"_blank\">\n              <img src={image.url} alt=\"Cat\"  />\n\n                </a>\n             { console.log(this.state.images)}\n            </div>\n          ))}\n        {this.state.loadingState === STATUS_FETCHED && (\n          <button onClick={this.loadMore}>Show more</button>\n          )}\n      </div>\n    )\n  }\n\n}\n\nexport default FilterCats"]},"metadata":{},"sourceType":"module"}