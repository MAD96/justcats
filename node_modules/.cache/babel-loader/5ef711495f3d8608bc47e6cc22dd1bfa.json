{"ast":null,"code":"import _toConsumableArray from\"/home/andres/Escritorio/cat-api/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/andres/Escritorio/cat-api/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/andres/Escritorio/cat-api/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/andres/Escritorio/cat-api/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/andres/Escritorio/cat-api/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var STATUS_FETCHING=\"fetching\";var STATUS_FETCHED=\"fetched\";var API_KEY='c50f46cf-8ed0-402c-a5be-d41c7f559deb';var randomNum=Math.abs(Math.floor(Math.random()*15));var FilterCats=/*#__PURE__*/function(_React$Component){_inherits(FilterCats,_React$Component);var _super=_createSuper(FilterCats);function FilterCats(){var _this;_classCallCheck(this,FilterCats);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={images:[],loadingState:STATUS_FETCHING,page:0,limit:10};_this.loadMore=function(){_this.setState(function(s){return{page:s.page+1};},function(){fetch(\"https://api.thecatapi.com/v1/images/search?limit=\".concat(_this.state.limit,\"&page=\").concat(_this.state.page),{headers:{\"Content-Type\":\"application/json\",\"x-api-key\":API_KEY}}).then(function(data){return data.json();}).then(function(data){_this.setState({images:[].concat(_toConsumableArray(_this.state.images),_toConsumableArray(data.map(function(e){return{id:e.id,url:e.url};})))});});});};_this.getRandomCat=function(){_this.setState({loadingState:STATUS_FETCHING});fetch(\"https://api.thecatapi.com/v1/images/search?limit=\".concat(_this.state.limit,\"&page=\").concat(_this.state.page),{headers:{\"Content-Type\":\"application/json\",\"x-api-key\":\"4bebae0d-0ec4-4787-8e77-8602741525af\"}}).then(function(data){return data.json();}).then(function(data){_this.setState({images:data.map(function(e){return{id:e.id,url:e.url};}),loadingState:STATUS_FETCHED});});};return _this;}_createClass(FilterCats,[{key:\"componentDidMount\",value:function componentDidMount(){this.getRandomCat();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"gallery\",children:[this.state.loadingState!==STATUS_FETCHED&&/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:\"Cute cats incoming...\"}),this.state.loadingState!==STATUS_FETCHING&&this.state.images.length>0&&this.state.images.map(function(image){return/*#__PURE__*/_jsxs(\"div\",{className:\"imagePlaceholder\",children:[/*#__PURE__*/_jsx(\"a\",{href:image.url,rel:\"noreferrer\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"img\",{src:image.url,alt:\"Cat\"})}),console.log(_this2.state.images)]},image.id);}),this.state.loadingState===STATUS_FETCHED&&/*#__PURE__*/_jsx(\"button\",{onClick:this.loadMore,children:\"Show more\"})]});}}]);return FilterCats;}(React.Component);export default FilterCats;","map":{"version":3,"sources":["/home/andres/Escritorio/cat-api/src/components/FilterCats.js"],"names":["React","STATUS_FETCHING","STATUS_FETCHED","API_KEY","randomNum","Math","abs","floor","random","FilterCats","state","images","loadingState","page","limit","loadMore","setState","s","fetch","headers","then","data","json","map","e","id","url","getRandomCat","length","image","console","log","Component"],"mappings":"kjBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,wFAGA,GAAMC,CAAAA,eAAe,CAAG,UAAxB,CACA,GAAMC,CAAAA,cAAc,CAAG,SAAvB,CACA,GAAMC,CAAAA,OAAO,CAAG,sCAAhB,CACA,GAAIC,CAAAA,SAAS,CAAGC,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,KAAL,CAAWF,IAAI,CAACG,MAAL,GAAgB,EAA3B,CAAT,CAAhB,C,GAEMC,CAAAA,U,uVACFC,K,CAAQ,CACJC,MAAM,CAAE,EADJ,CAEJC,YAAY,CAAEX,eAFV,CAGJY,IAAI,CAAE,CAHF,CAIJC,KAAK,CAAE,EAJH,C,OAWRC,Q,CAAW,UAAM,CACjB,MAAKC,QAAL,CACI,SAAAC,CAAC,QAAK,CACFJ,IAAI,CAAEI,CAAC,CAACJ,IAAF,CAAS,CADb,CAAL,EADL,CAII,UAAM,CACFK,KAAK,4DAEG,MAAKR,KAAL,CAAWI,KAFd,kBAGQ,MAAKJ,KAAL,CAAWG,IAHnB,EAID,CACIM,OAAO,CAAE,CACf,eAAgB,kBADD,CAEf,YAAahB,OAFE,CADb,CAJC,CAAL,CAWHiB,IAXG,CAWE,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EAXN,EAYHF,IAZG,CAYE,SAAAC,IAAI,CAAI,CACV,MAAKL,QAAL,CAAc,CACVL,MAAM,8BACC,MAAKD,KAAL,CAAWC,MADZ,qBAECU,IAAI,CAACE,GAAL,CAAS,SAAAC,CAAC,QAAK,CAAEC,EAAE,CAAED,CAAC,CAACC,EAAR,CAAYC,GAAG,CAAEF,CAAC,CAACE,GAAnB,CAAL,EAAV,CAFD,EADI,CAAd,EAMH,CAnBG,EAoBP,CAzBD,EA2BH,C,OAECC,Y,CAAe,UAAM,CACnB,MAAKX,QAAL,CAAc,CACZJ,YAAY,CAAEX,eADF,CAAd,EAGAiB,KAAK,4DAED,MAAKR,KAAL,CAAWI,KAFV,kBAGM,MAAKJ,KAAL,CAAWG,IAHjB,EAIH,CACEM,OAAO,CAAE,CACL,eAAgB,kBADX,CAEP,YAAa,sCAFN,CADX,CAJG,CAAL,CAWGC,IAXH,CAWQ,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EAXZ,EAYGF,IAZH,CAYQ,SAAAC,IAAI,CAAI,CACZ,MAAKL,QAAL,CAAc,CACZL,MAAM,CAAEU,IAAI,CAACE,GAAL,CAAS,SAAAC,CAAC,QAAK,CAAEC,EAAE,CAAED,CAAC,CAACC,EAAR,CAAYC,GAAG,CAAEF,CAAC,CAACE,GAAnB,CAAL,EAAV,CADI,CAEZd,YAAY,CAAEV,cAFF,CAAd,EAID,CAjBH,EAkBD,C,uEAxDC,4BAAoB,CAChB,KAAKyB,YAAL,GACH,C,sBAwDH,iBAAS,iBACP,mBACI,aAAK,SAAS,CAAC,SAAf,WACC,KAAKjB,KAAL,CAAWE,YAAX,GAA4BV,cAA5B,eACC,YAAK,SAAS,CAAC,QAAf,mCAFF,CAIC,KAAKQ,KAAL,CAAWE,YAAX,GAA4BX,eAA5B,EACC,KAAKS,KAAL,CAAWC,MAAX,CAAkBiB,MAAlB,CAA2B,CAD5B,EAEC,KAAKlB,KAAL,CAAWC,MAAX,CAAkBY,GAAlB,CAAsB,SAAAM,KAAK,qBACzB,aAAK,SAAS,CAAC,kBAAf,wBACI,UAAG,IAAI,CAAEA,KAAK,CAACH,GAAf,CAAoB,GAAG,CAAC,YAAxB,CAAqC,MAAM,CAAC,QAA5C,uBACF,YAAK,GAAG,CAAEG,KAAK,CAACH,GAAhB,CAAqB,GAAG,CAAC,KAAzB,EADE,EADJ,CAKGI,OAAO,CAACC,GAAR,CAAY,MAAI,CAACrB,KAAL,CAAWC,MAAvB,CALH,GAAuCkB,KAAK,CAACJ,EAA7C,CADyB,EAA3B,CANF,CAeC,KAAKf,KAAL,CAAWE,YAAX,GAA4BV,cAA5B,eACC,eAAQ,OAAO,CAAE,KAAKa,QAAtB,uBAhBF,GADJ,CAqBD,C,wBAxFsBf,KAAK,CAACgC,S,EA4F/B,cAAevB,CAAAA,UAAf","sourcesContent":["import React from 'react'\n\n\nconst STATUS_FETCHING = \"fetching\"\nconst STATUS_FETCHED = \"fetched\"\nconst API_KEY = 'c50f46cf-8ed0-402c-a5be-d41c7f559deb'\nlet randomNum = Math.abs(Math.floor(Math.random() * 15))\n\nclass FilterCats extends React.Component {\n    state = {\n        images: [],\n        loadingState: STATUS_FETCHING,\n        page: 0,\n        limit: 10\n    };\n    \n    componentDidMount() {\n        this.getRandomCat()\n    }\n    \n    loadMore = () => {\n    this.setState(\n        s => ({\n            page: s.page + 1\n        }),\n        () => {\n            fetch(\n                `https://api.thecatapi.com/v1/images/search?limit=${\n                    this.state.limit\n                }&page=${this.state.page}`,\n                {\n                    headers: {\n              \"Content-Type\": \"application/json\",\n              \"x-api-key\": API_KEY\n            }\n        }\n        )\n        .then(data => data.json())\n        .then(data => {\n            this.setState({\n                images: [\n                    ...this.state.images,\n                    ...data.map(e => ({ id: e.id, url: e.url }))\n              ]\n            });\n        });\n    }\n    );\n};\n\n  getRandomCat = () => {\n    this.setState({\n      loadingState: STATUS_FETCHING\n    });\n    fetch(\n      `https://api.thecatapi.com/v1/images/search?limit=${\n        this.state.limit\n      }&page=${this.state.page}`,\n      {\n        headers: {\n            \"Content-Type\": \"application/json\",\n          \"x-api-key\": \"4bebae0d-0ec4-4787-8e77-8602741525af\"\n        }\n      }\n    )\n      .then(data => data.json())\n      .then(data => {\n        this.setState({\n          images: data.map(e => ({ id: e.id, url: e.url })),\n          loadingState: STATUS_FETCHED\n        })\n      })\n  }\n\n  render() {\n    return (\n        <div className=\"gallery\">\n        {this.state.loadingState !== STATUS_FETCHED && (\n          <div className=\"loader\">Cute cats incoming...</div>\n          )}\n        {this.state.loadingState !== STATUS_FETCHING &&\n          this.state.images.length > 0 &&\n          this.state.images.map(image => (\n            <div className=\"imagePlaceholder\" key={image.id}>\n                <a href={image.url} rel=\"noreferrer\" target=\"_blank\">\n              <img src={image.url} alt=\"Cat\"  />\n\n                </a>\n             { console.log(this.state.images)}\n            </div>\n          ))}\n        {this.state.loadingState === STATUS_FETCHED && (\n          <button onClick={this.loadMore}>Show more</button>\n          )}\n      </div>\n    )\n  }\n\n}\n\nexport default FilterCats"]},"metadata":{},"sourceType":"module"}